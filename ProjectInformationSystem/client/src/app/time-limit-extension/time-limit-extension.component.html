<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
 
<!-- <div class="container"> 
  <form [formGroup]="projectForm" (ngSubmit)="onSubmit()">
    <h3 class="form-title">Project Extension Form</h3>

    <label for="extensionDate">Extension Date:</label>
    <input type="date" id="extensionDate" formControlName="extensionDate" required />

    <label for="timeLimit">New Time Limit (in months):</label>
    <input
      type="number"
      id="timeLimit"
      formControlName="timeLimit"
      min="1"
      required
      placeholder="Enter number of months"
    />

    <label for="uploadFile">Upload Supporting Document:</label>
    <input
      type="file"
      id="uploadFile"
      (change)="onFileChange($event)"
      required
      accept=".pdf,.doc,.docx,.jpg,.png"
    />

    <button type="submit" [disabled]="projectForm.invalid">Submit</button>
    <button type="button" (click)="resetForm()" class="btn-new">New</button>
  </form>

  <div *ngIf="submittedData.length > 0" class="submitted-data-section">
    <h3>Submitted Project Extensions</h3>
    <table>
      <thead>
        <tr>
          <th>Project ID</th>
          <th>Extension Date</th>
          <th>New Time Limit (months)</th>
          <th>Uploaded File Name</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of submittedData; let i = index">
          <td>{{ getProjectName(data.projectId) }}</td>
          <td>{{ data.extensionDate | date: 'mediumDate' }}</td>
          <td>{{ data.timeLimit }}</td>
          <td>{{ data.uploadFileName }}</td>
          <td>
            <button (click)="deleteEntry(i)" class="btn-delete-icon" title="Delete">
              <i class="fas fa-trash-alt"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div> -->
<!-- <div class="container"> 
  <form [formGroup]="projectForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
    <h3 class="form-title">Project Extension Form</h3>

    <label for="extensionDate">Extension Date:</label>
    <input type="date" id="extensionDate" formControlName="extensionDate" required />

    <label for="timeLimit">New Time Limit (months):</label>
    <input type="number" id="timeLimit" formControlName="timeLimit" min="1" required />

    <label for="uploadFile">Upload Supporting Document:</label>
    <input
      type="file"
      id="uploadFile"
      (change)="onFileChange($event)"
      accept=".pdf,.doc,.docx,.jpg,.png"
    />

    <button type="submit" [disabled]="projectForm.invalid">Submit</button>
    <button type="button" (click)="resetForm()">New</button>
  </form>

  <div *ngIf="submittedData.length > 0">
    <h3>Submitted Extensions</h3>
    <table>
      <thead>
        <tr>
          <th>Project ID</th>
          <th>Extension Date</th>
          <th>Time Limit</th>
          <th>File Name</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of submittedData; let i = index">
          <td>{{ getProjectName(item.projectId) }}</td>
          <td>{{ item.extensionDate | date: 'mediumDate' }}</td>
          <td>{{ item.timeLimit }}</td>
          <td>{{ item.uploadFileName }}</td>
          <td><button (click)="deleteEntry(i)">Delete</button></td>
        </tr>
      </tbody>
    </table>
  </div>
</div> -->

<div class="container">
  <form [formGroup]="projectForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
    <h3 class="form-title">Project Extension Form</h3>

    <label for="extensionDate">Extension Date:</label>
    <input type="date" id="extensionDate" formControlName="extensionDate" required />

    <label for="timeLimit">New Time Limit (months):</label>
    <input type="number" id="timeLimit" formControlName="timeLimit" min="1" required />

    <label for="uploadFile">Upload Supporting Document:</label>
    <input type="file"  id="uploadFile" (change)="onFileChange($event)"  #fileInput [required]="!isEditing" accept=".pdf,.doc,.docx,.jpg,.png" />
    <button type="button" class="btn-new" (click)="resetForm()">New</button>
    <button type="submit" [disabled]="projectForm.invalid">{{ isEditing ? 'Update' : 'Submit' }}</button><br>
    <!-- <button type="button" class="btn-new" (click)="resetForm()">New</button> -->
  </form>

  <div *ngIf="submittedData.length > 0" class="submitted-data-section">
    <h3>Submitted Extensions</h3>
    <table>
      <thead>
        <tr>
          <th>extensionSrNo</th>
          <th>Project ID</th>
          <th>Extension Date</th>
          <th>Time Limit</th>
          <th>File Name</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of submittedData">
           <td>{{item.extensionSrNo}}</td>
          <td>{{ item.projectId }}</td>
          <td>{{ item.extensionDate | date: 'mediumDate' }}</td>
          <td>{{ item.timeLimit }}</td>
          <td>{{ item.fileName }}</td>
          <td>
            <button class="editdelete"style="color: blue;" (click)="editExtension(item)"><i class="fas fa-edit"></i></button>
            <button class="editdelete"  (click)="deleteExtension(item.extensionSrNo)"><i class="fas fa-trash"></i></button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
